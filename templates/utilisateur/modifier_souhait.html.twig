{% extends "base.html.twig" %}

{% block title %}Modifier un souhait{% endblock %}

{% block body %}
    <h1>Modifier un souhait</h1>

    {{ include('utilisateur/souhait/_form.html.twig') }}

    <div class="mt-5">
        <form method="post" action="{{ path('compte_supprimer_souhait', {'id': souhait.id }) }}" onsubmit="return confirm('Voulez-vous vraiment supprimer ce souhait?');">
            <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ souhait.id) }}">
            <button class="btn btn-danger ">Supprimer</button>
        </form>
    </div>

    {% if souhait.destinataire != app.user %}
        {% if souhait.achete %}
        <div class="mt-5">
            <form method="post" action="{{ path('compte_rendre_souhait', {'id': souhait.id }) }}" onsubmit="return confirm('Voulez-vous vraiment enlever la marque d\'achat?');">
                <input type="hidden" name="_token" value="{{ csrf_token('unbuy' ~ souhait.id) }}">
                <button class="btn btn-info ">Enlever la marque d'achat</button>
            </form>
        </div>
        {% else %}
        <div class="mt-5">
            <form method="post" action="{{ path('compte_acheter_souhait', {'id': souhait.id }) }}" onsubmit="return confirm('Voulez-vous vraiment marquer comme acheté ce souhait?');">
                <input type="hidden" name="_token" value="{{ csrf_token('buy' ~ souhait.id) }}">
                <button class="btn btn-info ">Marquer comme acheté</button>
            </form>
        </div>
        {% endif %}
    {% endif %}
    
    <div class="mt-5">
        <a href="{{ path('compte_listes') }}" class="btn btn-success">Retour aux listes</a>
    </div>

{% endblock %}